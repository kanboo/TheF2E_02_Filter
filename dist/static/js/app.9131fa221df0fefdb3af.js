webpackJsonp([1],{"6ye7":function(t,e){},"7Otq":function(t,e){t.exports="data:image/png;base64,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"},Amaj:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),n=a("mtWM"),i=a.n(n),o=a("Rf8U"),r=a.n(o),c=a("zL8q"),l=a.n(c),u=a("QxPg"),f=a("iNcX"),d=a.n(f),p=a("fY41"),m=a.n(p),g=a("XFHq"),v=a.n(g),h=a("nCDS"),C=a.n(h),A=a("g7Da"),_=a.n(A),w=a("VMFT"),b=a.n(w),N=(a("tvR6"),a("pc4J"),a("mvHQ")),k=a.n(N),x=a("fZjL"),S=a.n(x),y=a("lHA8"),M=a.n(y),X=a("Gu7T"),F=a.n(X),P=a("U0v6"),T=a.n(P),V={name:"Card",props:["item"],components:{FontAwesomeIcon:T.a},data:function(){return{msg:"Welcome to Your Vue.js App"}},methods:{s_showMap:function(t){this.$emit("f_showMap",t)}}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"card",on:{click:function(e){t.s_showMap(t.item)}}},[a("div",{staticClass:"card__img",style:{backgroundImage:"url("+t.item.Picture1+")"}}),t._v(" "),a("div",{staticClass:"card__info"},[a("h2",{staticClass:"title"},[t._v(" "+t._s(t.item.Name))]),t._v(" "),a("p",{staticClass:"desc"},[t._v(t._s(t.item.Description))]),t._v(" "),a("div",{staticClass:"card__info__main"},["全天候開放"===t.item.Opentime?a("span",{staticClass:"tag"},[t._v("全天候開放")]):t._e(),t._v(" "),"免費參觀"===t.item.Ticketinfo?a("span",{staticClass:"tag"},[t._v("免費參觀")]):t._e()]),t._v(" "),a("div",{staticClass:"card__info__other"},[a("span",{staticClass:"city"},[a("span",{staticClass:"otherIcon"},[a("font-awesome-icon",{attrs:{icon:["fas","map-marker-alt"]}})],1),t._v("\n        "+t._s(t.item.Add)+"\n      ")]),t._v(" "),a("span",{staticClass:"date"},[a("span",{staticClass:"otherIcon"},[a("font-awesome-icon",{attrs:{icon:["far","calendar-alt"]}})],1),t._v("\n        "+t._s(t.item.Opentime)+"\n      ")])])])])},staticRenderFns:[]};var L=a("VU/8")(V,W,!1,function(t){a("qU3S")},"data-v-95d8cdb2",null).exports,B={name:"index",components:{FontAwesomeIcon:T.a,card:L},data:function(){return{KSdatas:[],zoneList:[],categories:[{filterName:"Opentime",filterValue:"全天候開放"},{filterName:"Ticketinfo",filterValue:"免費參觀"}],filterCount:0,filterDatas:[],currentPage:0,pageDatas:[],searchText:"",selectLocation:"",selectCategories:[],show:!1,mapInfo:""}},mounted:function(){var t=this;this.$http.get("https://data.kcg.gov.tw/api/action/datastore_search",{params:{resource_id:"92290ee5-6e61-456f-80c0-249eae2fcc97",limit:999}}).then(function(e){t.KSdatas=e.data.result.records||{},t.filterDatas=t.KSdatas,t.filterCount=t.KSdatas.length;var a=e.data.result.records.map(function(t){return t.Zone}),s=[].concat(F()(new M.a(a)));t.zoneList=s.map(function(t){return{label:t,value:t}}),t.computedPageDatas()})},methods:{updateFilter:function(){var t=this,e={};this.categories.map(function(a){t.selectCategories.find(function(t){return a.filterName===t})&&(e[a.filterName]=a.filterValue)}),this.filterDatas=this.KSdatas.filter(function(a){return t.isMatchLocation(a,t.selectLocation)&&t.isMatchInput(a,t.searchText)&&t.isMatchCategories(a,e)}),this.filterCount=this.filterDatas.length||0,this.computedPageDatas()},computedPageDatas:function(){var t=[];this.filterDatas.forEach(function(e,a){a%10==0&&t.push([]);var s=parseInt(a/10);t[s].push(e)}),this.currentPage=0,this.pageDatas=t},cleanFilterCondition:function(t){"searchText"===t.tagName&&(this.searchText=""),"Zone"===t.tagName&&(this.selectLocation="");var e=this.selectCategories.filter(function(e){return e!==t.tagName});this.selectCategories=e,this.updateFilter()},isMatchLocation:function(t,e){return""===e||t.Zone===e},isMatchInput:function(t,e){var a=new RegExp(e,"gi");return t.Name.match(a)||t.Description.match(a)},isMatchCategories:function(t,e){if(0===S()(e).length)return!0;var a=!0;return S()(e).forEach(function(s){t[s]!==e[s]&&(a=!1)}),a},initMap:function(t){this.show=!0,this.mapInfo=JSON.parse(k()(t));var e={lat:+t.Py,lng:+t.Px},a=new google.maps.Map(document.getElementById("map"),{zoom:16,center:e});new google.maps.Marker({position:e,map:a})},closeMap:function(){this.show=!1,this.mapInfo=""}},computed:{currFilterTag:function(){var t=this,e=[];return this.searchText&&e.push({tagName:"searchText",tagValue:this.searchText}),this.selectLocation&&e.push({tagName:"Zone",tagValue:this.selectLocation}),this.categories.map(function(a){t.selectCategories.find(function(t){return a.filterName===t})&&e.push({tagName:a.filterName,tagValue:a.filterValue})}),e},currPageDatas:function(){return this.pageDatas[this.currentPage-1]}}},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("header",{staticClass:"header"},[s("div",{staticClass:"container"},[s("div",{staticClass:"searchBlock"},[s("img",{staticClass:"logo",attrs:{src:a("7Otq"),alt:"HaveFun"}}),t._v(" "),s("div",{staticClass:"searchBlock__search"},[s("div",{staticClass:"searchIcon"},[s("font-awesome-icon",{attrs:{icon:["fas","search"]}})],1),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"searchInput",attrs:{type:"text",placeholder:"Explore your own activities"},domProps:{value:t.searchText},on:{keyup:t.updateFilter,input:function(e){e.target.composing||(t.searchText=e.target.value)}}})])])])]),t._v(" "),s("main",{staticClass:"main"},[s("div",{staticClass:"container"},[s("section",{staticClass:"filters"},[s("div",{staticClass:"filter"},[s("div",{staticClass:"filter__header"},[s("span",{staticClass:"subtitle"},[t._v("地區")]),t._v(" "),s("div",{staticClass:"headerIcon"},[s("font-awesome-icon",{attrs:{icon:["fas","map-marker-alt"]}})],1)]),t._v(" "),s("div",{staticClass:"filter__body"},[s("el-select",{attrs:{clearable:"",placeholder:"請選擇地區"},on:{change:t.updateFilter},model:{value:t.selectLocation,callback:function(e){t.selectLocation=e},expression:"selectLocation"}},t._l(t.zoneList,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),s("div",{staticClass:"filter"},[s("div",{staticClass:"filter__header"},[s("span",{staticClass:"subtitle"},[t._v("分類")]),t._v(" "),s("div",{staticClass:"headerIcon"},[s("font-awesome-icon",{attrs:{icon:["fas","plus"]}})],1)]),t._v(" "),s("div",{staticClass:"filter__body"},[s("el-checkbox-group",{model:{value:t.selectCategories,callback:function(e){t.selectCategories=e},expression:"selectCategories"}},t._l(t.categories,function(e){return s("el-checkbox",{key:e.filterValue,attrs:{label:e.filterName},on:{change:t.updateFilter}},[t._v("\n              "+t._s(e.filterValue)+"\n              ")])}))],1)])]),t._v(" "),s("section",{staticClass:"content"},[s("div",{staticClass:"resultInfo hidden-mobile"},[s("h3",[t._v("\n            目前顯示結果：共 "),s("span",{staticClass:"resultInfo--count"},[t._v(t._s(t.filterCount))]),t._v(" 筆\n          ")]),t._v(" "),t._l(t.currFilterTag,function(e,a){return s("span",{key:a,staticClass:"resultInfo--tag",on:{click:function(a){t.cleanFilterCondition(e)}}},[t._v("\n            "+t._s(e.tagValue)+"\n            "),s("font-awesome-icon",{attrs:{icon:["far","times-circle"]}})],1)})],2),t._v(" "),s("transition-group",{staticClass:"resultList",attrs:{name:"list",tag:"ol",mode:"in-out"}},t._l(t.currPageDatas,function(e){return s("card",{key:e.Id,tag:"li",staticClass:"card",attrs:{item:e},on:{f_showMap:t.initMap}})})),t._v(" "),t.filterCount?s("el-pagination",{attrs:{background:"","current-page":t.currentPage,layout:"prev, pager, next",total:t.filterCount,"pager-count":5},on:{"update:currentPage":function(e){t.currentPage=e}}}):t._e()],1)])]),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"map__block"},[s("div",{staticClass:"map__block__info"},[s("h2",{staticClass:"title"},[s("font-awesome-icon",{attrs:{icon:["fas","map-marker-alt"]}}),t._v("\n          "+t._s(t.mapInfo.Name)+"\n        ")],1),t._v(" "),s("span",{staticClass:"add"},[t._v(" "+t._s(t.mapInfo.Add))]),t._v(" "),s("a",{staticClass:"bt-closeMap",attrs:{href:"javascript:;"},on:{click:t.closeMap}},[t._v("\n          ×\n        ")])]),t._v(" "),s("div",{staticClass:"map__block__location",attrs:{id:"map"}})])])],1)},staticRenderFns:[]};var D={name:"App",components:{index:a("VU/8")(B,q,!1,function(t){a("6ye7")},"data-v-12e2e5de",null).exports}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("index")],1)},staticRenderFns:[]};var K=a("VU/8")(D,I,!1,function(t){a("Amaj")},null,null).exports;u.default.library.add(d.a,m.a,C.a,b.a,_.a,v.a),s.default.use(r.a,i.a),s.default.use(l.a),s.default.config.productionTip=!1,new s.default({el:"#app",components:{App:K},template:"<App/>"})},pc4J:function(t,e){},qU3S:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9131fa221df0fefdb3af.js.map